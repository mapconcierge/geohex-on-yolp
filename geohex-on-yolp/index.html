<!DOCTYPE html>
<html>
<head>
<title>GeoHex on YOLP (Yahoo! Open Local Platform JavaScript Map API)</title>
<meta charset="UTF-8">
<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
}
#map {
  width: 100%;
  height: 100%;
}
</style>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-75423977-6', 'auto');
ga('send', 'pageview');
</script>

</head>
<body>

<div id="map"></div>

<!-- YOLP Yahoo! JavaScriptマップAPI -->
<script type="text/javascript" charset="utf-8" src="https://map.yahooapis.jp/js/V1/jsapi?appid=dj0zaiZpPUNTM05IVlY0ZU5UYSZzPWNvbnN1bWVyc2VjcmV0Jng9Mjk-"></script>

<!-- GeoHex ライブラリ -->
<script src="hex_v3.2_core.js"></script>
<script src="getXYListByRect.js"></script>

<!-- 今回作成した GeoHexLayer -->
<script src="geohexlayer.js"></script>

<script>

// Map オブジェクトを生成
var ymap = new Y.Map("map", {
  "configure": {
    "dragging": true,
    "singleClickPan": false,
    "doubleClickZoom": true,
    "continuousZoom": true,
    "scrollWheelZoom": true
  }
});

// GeoHexLayer を追加
ymap.addLayer(new GeoHexLayer('map'));

// 名古屋駅付近の地図を表示
var p = {lat : 35.171962, lon : 136.8817322, zoom : 16};
ymap.drawMap(new Y.LatLng(p.lat, p.lon), p.zoom, Y.LayerSetId.NORMAL);

// リサイズ時に地図を再描画
window.addEventListener("resize", () => {
  ymap.updateSize();
});

</script>
</body>
</html>
